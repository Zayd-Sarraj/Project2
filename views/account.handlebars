





{{!-- STILL NEEDS DELETE ACCOUNT, UPDATE PASSWORD! also update post titles --}}





<div class="container-fluid">
    {{#each user}}
    <h1 class="text-center mx-auto my-2 pb-2 border-bottom border-dark">Welcome {{dataValues.username}}</h1>
    <div class="row">
        <!-- Left Column -->
        <div class="col-sm-2 text-center mx-auto mt-3 position-fixed" style="z-index: 99;">
            {{!-- <!-- Search box - find a single post by its title or a list of posts by an author --> --}}
            <div class="text-center">
                <div class="mx-auto">
                    <h5>Find posts:</h5>
                </div>
                {{!-- Gotta make this sidebar functional later, but for now the search button with go to the single posts with an ID of 1 --}}
                <form action="/posts/1" method="GET" class="form-inline">
                    <div class="form-group mx-auto mb-2">
                        <label for="searchContent" class="sr-only">Title or Author</label>
                        <input type="text" class="form-control" id="searchContent" placeholder="Title or Author">
                    </div>
                    <button type="submit" class="btn btn-dark mb-2 mx-auto">Search</button>
                </form>
            </div>
            {{!-- <!-- Button to submit a new post --> --}}
            <div class="btn-group-vertical mt-5" role="group" aria-label="navs">
                <button type="button" class="btn btn-dark" id="newpost-button">Submit a new post</button>
            </div>
        </div>
        {{!-- <!-- Making the left column scroll with the page creates some empty space, so this is a spacer div --> --}}
        <div class="col-2 border-right border-dark"></div>
        {{!-- Posts and Captions section --}}
        <div class="col-10">
            <div class="row">
                {{!-- Posts section --}}
                <div class="col-6 border-right border-dark">
                    <h2 class="mx-auto text-center">Your Posts</h2>
                    {{#each Posts}}
                    <div class="card bg-dark text-light mb-1 mt-3 px-1 py-1" id="{{dataValues.id}}">
                        {{!-- <!-- Image for the post - change the src to dataValues.image --> --}}
                        <h5 class="card-title mt-1 mx-auto">{{dataValues.title}}</h5>
                        <img src="../assets/sampleimg/funny.jpg" class="card-img-top" alt="fake">
                        <div class="card-body">
                            {{!-- <!-- Captions and votes go here --> --}}
                            {{#each Captions}}
                            <div class="row">
                                {{!-- <!-- Upvote icon and upvotes --> --}}
                                <div class="col-1 px-0 my-auto">
                                    <h5 class="text-center">{{dataValues.noOfVotes}} </span><img
                                            src="../assets/sampleimg/upvote.png" alt="upvote" height="25px" width="25px"
                                            style="background: transparent;">
                                    </h5>
                                </div>
                                {{!-- <!-- Caption --> --}}
                                <div class="col-11 ml-auto">
                                    <div class="container mb-1 py-1 border rounded bg-dark">
                                        {{!-- <!-- Caption text --> --}}
                                        <p class="card-text mb-0 text-light">{{dataValues.text}}</p>
                                        {{!-- <!-- Caption Author --> --}}
                                        <p class="card-text mb-1 text-right"><small class="text-muted">Captioner:
                                                {{dataValues.author}} </small></p>
                                    </div>
                                </div>
                            </div>
                            {{/each}}
                        </div>
                    </div>
                    <div class="row">
                        {{!-- Delete Posts button --}}
                        <form action="api/captions/{{dataValues.id}}" method="DELETE"
                            class="form-inline mb-3 mr-4 ml-auto">
                            <button class="btn btn-dark" type="submit">Delete</button>
                        </form>
                    </div>
                    {{/each}}
                </div>
                {{!-- Captions Section --}}
                <div class="col-6">
                    <h2 class="mx-auto text-center">Your Captions</h2>
                    <div class="card bg-dark text-light mt-3 ml-1py-1">
                        <div class="card-body">
                            {{#each Captions}}
                            <div class="row">
                                {{!-- <!-- Upvote icon and upvotes --> --}}
                                <div class="col-1 px-0 my-auto">
                                    <h5 class="text-center">{{dataValues.noOfVotes}} </span><img
                                            src="../assets/sampleimg/upvote.png" alt="upvote" height="25px" width="25px"
                                            style="background: transparent;">
                                    </h5>
                                </div>
                                {{!-- <!-- Caption --> --}}
                                <div class="col-11 ml-auto">
                                    <div class="container mb-1 py-1 border rounded bg-dark">
                                        {{!-- <!-- Caption text --> --}}
                                        <p class="card-text mb-0 text-light">{{dataValues.text}}</p>
                                        <p class="card-text mb-1 text-right"><small class="text-muted">Captioner:
                                                {{dataValues.author}} </small></p>
                                    </div>
                                </div>
                            </div>
                            {{!-- Delete Caption button --}}
                            <div class="row">
                                <form action="api/captions/{{dataValues.id}}" method="DELETE"
                                    class="form-inline mt-2 mr-3 ml-auto">
                                    <button class="btn btn-secondary" type="submit">Delete</button>
                                </form>
                            </div>
                            {{/each}}
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>
<script src="../assets/js/script.js"></script>